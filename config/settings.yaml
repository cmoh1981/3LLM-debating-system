# AgingResearchAI Configuration
# ================================

# Project Info
project:
  name: "AgingResearchAI"
  version: "0.1.0"
  description: "Multi-model AI system for aging and metabolic disease drug discovery"

# Target Diseases (Phase 1)
diseases:
  - name: "Type 2 Diabetes"
    abbreviation: "T2D"
    mesh_terms: ["Diabetes Mellitus, Type 2"]
    keywords: ["insulin resistance", "hyperglycemia", "beta cell"]

  - name: "NAFLD/NASH"
    abbreviation: "NAFLD"
    mesh_terms: ["Non-alcoholic Fatty Liver Disease"]
    keywords: ["hepatic steatosis", "liver fibrosis", "NASH"]

  - name: "Sarcopenia"
    abbreviation: "SARC"
    mesh_terms: ["Sarcopenia"]
    keywords: ["muscle wasting", "muscle atrophy", "aging muscle"]

# Model Configuration
models:
  gemini:
    enabled: true
    model_name: "gemini-2.5-flash-preview-05-20"
    temperature: 0.1
    max_output_tokens: 8192
    top_p: 0.95
    # Free tier limits
    rate_limit:
      requests_per_day: 1500
      tokens_per_minute: 32000

  claude:
    enabled: true
    model_name: "claude-sonnet-4-20250514"
    temperature: 0.1
    max_tokens: 8192
    # Use selectively (paid)
    usage_budget:
      max_daily_cost_usd: 10.0

  lobster:
    enabled: true
    workspace: ".lobster_workspace"
    timeout_seconds: 300
    reasoning_mode: false

# Routing Rules (which model handles what)
routing:
  # Gemini tasks (free, 80% of work)
  gemini_tasks:
    - literature_search
    - dataset_discovery
    - code_generation
    - data_extraction
    - patent_search
    - initial_screening
    - api_orchestration

  # Claude tasks (paid, complex reasoning)
  claude_tasks:
    - pathogenesis_synthesis
    - target_prioritization
    - risk_assessment
    - experiment_design
    - final_interpretation
    - report_generation
    - evidence_adjudication

  # Lobster tasks (specialized bioinformatics)
  lobster_tasks:
    - rnaseq_analysis
    - scrna_analysis
    - geo_dataset_search
    - differential_expression
    - pathway_enrichment
    - quality_control

# Evidence Tiers Configuration
evidence:
  tiers:
    tier1:
      description: "Replicated + Causal support + Literature"
      min_pmids: 3
      requires_causal: true
      confidence_range: [0.8, 1.0]

    tier2:
      description: "Replicated association"
      min_pmids: 2
      requires_causal: false
      confidence_range: [0.5, 0.8]

    tier3:
      description: "Single analysis only"
      min_pmids: 0
      requires_causal: false
      confidence_range: [0.0, 0.5]
      warning: "Needs validation before action"

  # Hard rules
  rules:
    no_uncited_claims: true
    require_evidence_per_claim: true
    max_confidence_tier3: 0.5

# RAG Configuration
rag:
  vector_db:
    type: "chromadb"
    persist_directory: "data/embeddings"
    collection_name: "aging_research"

  embeddings:
    model: "sentence-transformers/all-MiniLM-L6-v2"
    # Alternative: "pritamdeka/PubMedBERT-mnli-snli-scinli-scitail-mednli-stsb"

  retrieval:
    top_k: 10
    similarity_threshold: 0.7
    rerank: true

# Data Sources
data_sources:
  literature:
    - name: "PubMed"
      enabled: true
      api_key_env: "NCBI_API_KEY"

    - name: "PMC"
      enabled: true
      full_text: true

  databases:
    - name: "GEO"
      enabled: true
      data_types: ["RNA-seq", "scRNA-seq", "microarray"]

    - name: "SRA"
      enabled: true

    - name: "UniProt"
      enabled: true
      api_base: "https://rest.uniprot.org"

    - name: "DrugBank"
      enabled: false  # Requires license
      api_key_env: "DRUGBANK_API_KEY"

    - name: "ChEMBL"
      enabled: true
      api_base: "https://www.ebi.ac.uk/chembl/api/data"

    - name: "KEGG"
      enabled: true
      api_base: "https://rest.kegg.jp"

    - name: "OpenGenes"
      enabled: true
      focus: "aging genes"

# ADMET Configuration
admet:
  tools:
    - name: "RDKit"
      enabled: true
      calculations:
        - molecular_weight
        - logp
        - hbd
        - hba
        - tpsa
        - rotatable_bonds

    - name: "pkCSM"
      enabled: true
      api_base: "http://biosig.unimelb.edu.au/pkcsm"

    - name: "SwissADME"
      enabled: true
      api_base: "http://www.swissadme.ch"

  # Drug-likeness rules
  rules:
    lipinski:
      mw_max: 500
      logp_max: 5
      hbd_max: 5
      hba_max: 10

    veber:
      tpsa_max: 140
      rotatable_bonds_max: 10

# PubMed Monitoring Configuration
monitoring:
  enabled: true
  schedule: "daily"  # daily, weekly
  time: "06:00"

  # Watch keywords
  keywords:
    - "aging therapy"
    - "senolytic"
    - "T2D target"
    - "NAFLD treatment"
    - "sarcopenia intervention"

  # Watch authors
  authors:
    - "Sinclair DH"
    - "Campisi J"
    - "Kirkland JL"

  # Alert thresholds
  alerts:
    min_relevance_score: 0.7
    critical_keywords:
      - "breakthrough"
      - "clinical trial"
      - "phase 3"

# Patent Analysis Configuration
patents:
  enabled: true
  sources:
    - name: "Google Patents"
      enabled: true

    - name: "Lens.org"
      enabled: true
      api_key_env: "LENS_API_KEY"

  analysis:
    freedom_to_operate: true
    white_space_mapping: true
    competitor_tracking: true

# Output Configuration
output:
  format: "json"
  include_provenance: true
  include_timestamps: true

  directories:
    results: "data/processed"
    figures: "data/processed/figures"
    reports: "data/processed/reports"

# Logging
logging:
  level: "INFO"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  file: "logs/aging_research_ai.log"

# API Server (if running as service)
api:
  host: "0.0.0.0"
  port: 8000
  cors_origins:
    - "http://localhost:3000"
  rate_limit:
    requests_per_minute: 60
